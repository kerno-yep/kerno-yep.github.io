---
layout: post
title: jboss 漏洞整理
date: 2022-8-31
categories: blog
tags: [漏洞复现,jboss]
description: jboss


---
## jboss反序列化

RMI数据传输基于反序列化，服务中若实现RMI的调用且具有对象，那么就可能造成反序列化漏洞。JMX服务基于RMI实现，且将凭证作为对象传入

### **CVE-2015-7501漏洞原理**

JBoss中的`/invoker/JMXInvokerServlet`请求中读取用户传入的对象,可以任意代码执行

### **CVE-2017-12149漏洞原理**

JBoss的`HttpInvoker`组件中的`ReadOnlyAccessFilter`过滤器没有安全检查就进行反序列化

#### 利用条件

1. /invoker/readonly目录存在且能访问
2. 版本号为5.x/6.x

### **漏洞复现**

`只能通过链式调用来执行java语句，执行的语句必须可以写到一行里面，而且还不能带分号`

#### CVE-2015-7501

漏洞存在`/jbossmq-httpil/HTTPServerILServlet`中，将payload作为`POST Body`发送至`/jbossmq-httpil/HTTPServerILServlet`即可

#### CVE-2017-12149

漏洞存在`/invoker/readonly`中，将payload作为`POST Body`发送至`/invoker/readonly`即可

#### JMXInvokerServlet-deserialization

漏洞存在`/invoker/JMXInvokerServle`t中，将payload作为`POST Body`发送至`JMXInvokerServlet-deserialization`即可
